<ion-view view-title="Dish Details">
<ion-nav-buttons side="secondary">
  <div class="buttons">
    <button class="button button-icon icon ion-more"
            ng-click="openPopover($event)"></button>
  </div>
</ion-nav-buttons>

<ion-content>

<div class="card">
    <div class="item item-body item-text-wrap">
        <img ng-src="{{urlResolver(dish.image)}}"
             alt="{{dish.name}}"
             class="full-image">
        <h2>{{dish.name}}
        <span class="font-size:75%">{{dish.price | currency}}</span>
        <span class="badge badge-assertive" ng-if="isFavorite(dish.id)">
          <span class="ion-ios-star icon" aria-label="favorite">
          </span>
        </span>
        <span class="badge badge-assertive" ng-if="!isFavorite(dish.id)">{{dish.label}}</span>
        </h2>
        <p>{{dish.description}}</p>
    </div>
</div>

<div class="row">
  <div class="col col-offset-10">
    <h4>Customer comments&nbsp;&nbsp;&nbsp;
      <small>Sort by:
        <input type="text" ng-model="orderText">
      </small>
    </h4>
    <ul class="list">
      <li ng-repeat="comment in dish.comments | orderBy:orderText">
        <blockquote>
          <p>
          <span ng-class="'ion-ios-star'+((comment.rating>0) ? '' : '-outline')" class="icon"></span>
          <span ng-class="'ion-ios-star'+((comment.rating>1) ? '' : '-outline')" class="icon"></span>
          <span ng-class="'ion-ios-star'+((comment.rating>2) ? '' : '-outline')" class="icon"></span>
          <span ng-class="'ion-ios-star'+((comment.rating>3) ? '' : '-outline')" class="icon"></span>
          <span ng-class="'ion-ios-star'+((comment.rating>4) ? '' : '-outline')" class="icon"></span>
          </p>
          <p>{{comment.rating}} Stars</p>
          <p>{{comment.comment}}</p>
          <footer>{{comment.author}} &mdash;
                  {{comment.date | date:'MMM. dd, yyyy'}}</footer>
        </blockquote>
      </li>
    </ul>
  </div>
</div>


</ion-content>
</ion-view>